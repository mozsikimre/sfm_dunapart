{"ast":null,"code":"var _s = $RefreshSig$();\n// PlotPickerLogic.js\nimport { useState, useEffect } from 'react';\nexport const usePlotPickerLogic = carSize => {\n  _s();\n  const [currentLevel, setCurrentLevel] = useState('-1st floor');\n  const [parkingData, setParkingData] = useState({});\n  const [selectedSpot, setSelectedSpot] = useState(null);\n  const [showModal, setShowModal] = useState(false);\n  useEffect(() => {\n    fetch('/data/parking.json').then(res => res.json()).then(data => setParkingData(data)).catch(err => console.error('Error loading parking data:', err));\n  }, []);\n  const handleLevelChange = level => {\n    setCurrentLevel(level);\n  };\n  const getSpotColor = spot => {\n    // Foglalt parkoló\n    if (spot.status === 'occupied') {\n      return {\n        color: 'red',\n        image: '/icons/occupied.png'\n      };\n    }\n\n    // Hamarosan szabad parkoló\n    if (spot.status === 'soon_free') {\n      return {\n        color: 'yellow',\n        image: '/icons/soon_free.png'\n      };\n    }\n\n    // A parkoló hely már el lett foglalva\n    if (spot.status === 'claimed') {\n      return {\n        color: 'green',\n        image: '/icons/claimed.png'\n      }; // Zöld szín és egy új ikon\n    }\n\n    // Szabad parkoló, de túl kicsi a méret (small kocsi nem fér el medium vagy large parkolóhelyeken, large kocsi nem fér el medium vagy small parkolóhelyeken)\n    if (spot.status === 'free' && (spot.size === 'small' || spot.size === 'medium')) {\n      if (carSize === 'medium' && spot.size === 'small' ||\n      // Medium autó nem fér el small parkolóhelyen\n      carSize === 'large' && (spot.size === 'small' || spot.size === 'medium') // Large autó nem fér el small vagy medium parkolóhelyeken\n      ) {\n        return {\n          color: 'red',\n          image: '/icons/occupied.png'\n        }; // Túl kicsi a parkoló, piros\n      }\n    }\n\n    // Szabad parkoló, és a méret megfelelő\n    if (spot.status === 'free' && (carSize === 'small' && (spot.size === 'small' || spot.size === 'medium' || spot.size === 'large') || carSize === 'medium' && (spot.size === 'medium' || spot.size === 'large') || carSize === 'large' && spot.size === 'large')) {\n      return {\n        color: 'gray',\n        image: '/icons/free.png'\n      }; // Szabad parkoló és megfelelő méretű, szürke\n    }\n    return {\n      color: 'gray',\n      image: '/icons/default.png'\n    }; // Alapértelmezett eset\n  };\n  const handleModalClose = () => {\n    setShowModal(false);\n    setSelectedSpot(null);\n  };\n  const handleConfirmSelection = () => {\n    if (selectedSpot) {\n      console.log('Spot selected:', selectedSpot);\n    }\n    setShowModal(false);\n  };\n  const spots = parkingData[currentLevel] || [];\n  return {\n    currentLevel,\n    spots,\n    handleLevelChange,\n    getSpotColor,\n    handleSpotClick,\n    showModal,\n    handleModalClose,\n    handleConfirmSelection\n  };\n};\n_s(usePlotPickerLogic, \"p1NQmdIKwaKxpXBhlACNAof9VpQ=\");","map":{"version":3,"names":["useState","useEffect","usePlotPickerLogic","carSize","_s","currentLevel","setCurrentLevel","parkingData","setParkingData","selectedSpot","setSelectedSpot","showModal","setShowModal","fetch","then","res","json","data","catch","err","console","error","handleLevelChange","level","getSpotColor","spot","status","color","image","size","handleModalClose","handleConfirmSelection","log","spots","handleSpotClick"],"sources":["C:/Users/Imi/Desktop/SFM_Project/sfm-dunapart-frontend/src/components/plot/PlotPickerLogic.js"],"sourcesContent":["// PlotPickerLogic.js\r\nimport { useState, useEffect } from 'react';\r\n\r\nexport const usePlotPickerLogic = (carSize) => {\r\n  const [currentLevel, setCurrentLevel] = useState('-1st floor');\r\n  const [parkingData, setParkingData] = useState({});\r\n  const [selectedSpot, setSelectedSpot] = useState(null);\r\n  const [showModal, setShowModal] = useState(false);\r\n\r\n  useEffect(() => {\r\n    fetch('/data/parking.json')\r\n      .then((res) => res.json())\r\n      .then((data) => setParkingData(data))\r\n      .catch((err) => console.error('Error loading parking data:', err));\r\n  }, []);\r\n\r\n  const handleLevelChange = (level) => {\r\n    setCurrentLevel(level);\r\n  };\r\n\r\n  const getSpotColor = (spot) => {\r\n    \r\n    // Foglalt parkoló\r\n    if (spot.status === 'occupied') {\r\n      return { color: 'red', image: '/icons/occupied.png' };\r\n    }\r\n  \r\n    // Hamarosan szabad parkoló\r\n    if (spot.status === 'soon_free') {\r\n      return { color: 'yellow', image: '/icons/soon_free.png' };\r\n    }\r\n\r\n    // A parkoló hely már el lett foglalva\r\n    if (spot.status === 'claimed') {\r\n\r\n      return { color: 'green', image: '/icons/claimed.png' }; // Zöld szín és egy új ikon\r\n    }\r\n    \r\n    // Szabad parkoló, de túl kicsi a méret (small kocsi nem fér el medium vagy large parkolóhelyeken, large kocsi nem fér el medium vagy small parkolóhelyeken)\r\n    if (spot.status === 'free' && (spot.size === 'small' || spot.size === 'medium')) {\r\n      if (\r\n        (carSize === 'medium' && spot.size === 'small') || // Medium autó nem fér el small parkolóhelyen\r\n        (carSize === 'large' && (spot.size === 'small' || spot.size === 'medium')) // Large autó nem fér el small vagy medium parkolóhelyeken\r\n      ) {\r\n        return { color: 'red', image: '/icons/occupied.png' }; // Túl kicsi a parkoló, piros\r\n      }\r\n    }\r\n  \r\n    // Szabad parkoló, és a méret megfelelő\r\n    if (spot.status === 'free' && \r\n        ((carSize === 'small' && (spot.size === 'small' || spot.size === 'medium' || spot.size === 'large')) || \r\n        (carSize === 'medium' && (spot.size === 'medium' || spot.size === 'large')) ||\r\n        (carSize === 'large' && spot.size === 'large'))) {\r\n      return { color: 'gray', image: '/icons/free.png' }; // Szabad parkoló és megfelelő méretű, szürke\r\n    }\r\n  \r\n    return { color: 'gray', image: '/icons/default.png' }; // Alapértelmezett eset\r\n  };\r\n\r\n  const handleModalClose = () => {\r\n    setShowModal(false);\r\n    setSelectedSpot(null);\r\n  };\r\n\r\n  const handleConfirmSelection = () => {\r\n    if (selectedSpot) {\r\n      console.log('Spot selected:', selectedSpot);\r\n    }\r\n    setShowModal(false);\r\n  };\r\n\r\n  const spots = parkingData[currentLevel] || [];\r\n\r\n  return {\r\n    currentLevel,\r\n    spots,\r\n    handleLevelChange,\r\n    getSpotColor,\r\n    handleSpotClick,\r\n    showModal,\r\n    handleModalClose,\r\n    handleConfirmSelection,\r\n  };\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}