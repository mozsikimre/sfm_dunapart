{"ast":null,"code":"var _s = $RefreshSig$();\n// PlotPickerLogic.js\nimport { useState, useEffect } from 'react';\nuseEffect(() => {\n  fetch('/data/car.json').then(res => res.json()).then(data => setCarSize(data.carSize)).catch(err => console.error('Error loading car size:', err));\n}, []);\nexport const usePlotPickerLogic = carSize => {\n  _s();\n  const [currentLevel, setCurrentLevel] = useState('-1st floor');\n  const [parkingData, setParkingData] = useState({});\n  const [selectedSpot, setSelectedSpot] = useState(null);\n  const [showModal, setShowModal] = useState(false);\n  useEffect(() => {\n    fetch('/data/parking.json').then(res => res.json()).then(data => setParkingData(data)).catch(err => console.error('Error loading parking data:', err));\n  }, []);\n  const handleLevelChange = level => {\n    setCurrentLevel(level);\n  };\n  console.log(carSize);\n  const getSpotColor = spot => {\n    // Foglalt parkoló\n    if (spot.status === 'occupied') {\n      return {\n        color: 'red',\n        image: '/icons/occupied.png'\n      };\n    }\n\n    // Hamarosan szabad parkoló\n    if (spot.status === 'soon_free') {\n      return {\n        color: 'yellow',\n        image: '/icons/soon_free.png'\n      };\n    }\n\n    // A parkoló hely már el lett foglalva\n    if (spot.status === 'claimed') {\n      return {\n        color: 'green',\n        image: '/icons/claimed.png'\n      }; // Zöld szín és egy új ikon\n    }\n\n    // Szabad parkoló, de túl kicsi a méret (small kocsi nem fér el medium vagy large parkolóhelyeken, large kocsi nem fér el medium vagy small parkolóhelyeken)\n    if (spot.status === 'free' && (spot.size === 'small' || spot.size === 'medium')) {\n      if (carSize === 'medium' && spot.size === 'small' ||\n      // Medium autó nem fér el small parkolóhelyen\n      carSize === 'large' && (spot.size === 'small' || spot.size === 'medium') // Large autó nem fér el small vagy medium parkolóhelyeken\n      ) {\n        return {\n          color: 'red',\n          image: '/icons/occupied.png'\n        }; // Túl kicsi a parkoló, piros\n      }\n    }\n\n    // Szabad parkoló, és a méret megfelelő\n    if (spot.status === 'free' && (carSize === 'small' && (spot.size === 'small' || spot.size === 'medium' || spot.size === 'large') || carSize === 'medium' && (spot.size === 'medium' || spot.size === 'large') || carSize === 'large' && spot.size === 'large')) {\n      return {\n        color: 'gray',\n        image: '/icons/free.png'\n      }; // Szabad parkoló és megfelelő méretű, szürke\n    }\n    return {\n      color: 'gray',\n      image: '/icons/default.png'\n    }; // Alapértelmezett eset\n  };\n  const handleSpotClick = spot => {\n    if (spot.status === 'free') {\n      setSelectedSpot(spot);\n      setShowModal(true);\n    }\n  };\n  const handleModalClose = () => {\n    setShowModal(false);\n    setSelectedSpot(null);\n  };\n  const handleConfirmSelection = () => {\n    if (selectedSpot) {\n      console.log('Spot selected:', selectedSpot);\n    }\n    setShowModal(false);\n  };\n  const spots = parkingData[currentLevel] || [];\n  return {\n    currentLevel,\n    spots,\n    handleLevelChange,\n    getSpotColor,\n    handleSpotClick,\n    showModal,\n    handleModalClose,\n    handleConfirmSelection\n  };\n};\n_s(usePlotPickerLogic, \"p1NQmdIKwaKxpXBhlACNAof9VpQ=\");","map":{"version":3,"names":["useState","useEffect","fetch","then","res","json","data","setCarSize","carSize","catch","err","console","error","usePlotPickerLogic","_s","currentLevel","setCurrentLevel","parkingData","setParkingData","selectedSpot","setSelectedSpot","showModal","setShowModal","handleLevelChange","level","log","getSpotColor","spot","status","color","image","size","handleSpotClick","handleModalClose","handleConfirmSelection","spots"],"sources":["C:/Users/Imi/Desktop/SFM_Project/sfm-dunapart-frontend/src/components/plot/PlotPickerLogic.js"],"sourcesContent":["// PlotPickerLogic.js\r\nimport { useState, useEffect } from 'react';\r\nuseEffect(() => {\r\n    fetch('/data/car.json')\r\n      .then((res) => res.json())\r\n      .then((data) => setCarSize(data.carSize))\r\n      .catch((err) => console.error('Error loading car size:', err));\r\n  }, []);\r\nexport const usePlotPickerLogic = (carSize) => {\r\n  const [currentLevel, setCurrentLevel] = useState('-1st floor');\r\n  const [parkingData, setParkingData] = useState({});\r\n  const [selectedSpot, setSelectedSpot] = useState(null);\r\n  const [showModal, setShowModal] = useState(false);\r\n\r\n  useEffect(() => {\r\n    fetch('/data/parking.json')\r\n      .then((res) => res.json())\r\n      .then((data) => setParkingData(data))\r\n      .catch((err) => console.error('Error loading parking data:', err));\r\n  }, []);\r\n\r\n  const handleLevelChange = (level) => {\r\n    setCurrentLevel(level);\r\n  };\r\nconsole.log(carSize);\r\n  const getSpotColor = (spot) => {\r\n    \r\n    // Foglalt parkoló\r\n    if (spot.status === 'occupied') {\r\n      return { color: 'red', image: '/icons/occupied.png' };\r\n    }\r\n  \r\n    // Hamarosan szabad parkoló\r\n    if (spot.status === 'soon_free') {\r\n      return { color: 'yellow', image: '/icons/soon_free.png' };\r\n    }\r\n\r\n    // A parkoló hely már el lett foglalva\r\n    if (spot.status === 'claimed') {\r\n\r\n      return { color: 'green', image: '/icons/claimed.png' }; // Zöld szín és egy új ikon\r\n    }\r\n    \r\n    // Szabad parkoló, de túl kicsi a méret (small kocsi nem fér el medium vagy large parkolóhelyeken, large kocsi nem fér el medium vagy small parkolóhelyeken)\r\n    if (spot.status === 'free' && (spot.size === 'small' || spot.size === 'medium')) {\r\n      if (\r\n        (carSize === 'medium' && spot.size === 'small') || // Medium autó nem fér el small parkolóhelyen\r\n        (carSize === 'large' && (spot.size === 'small' || spot.size === 'medium')) // Large autó nem fér el small vagy medium parkolóhelyeken\r\n      ) {\r\n        return { color: 'red', image: '/icons/occupied.png' }; // Túl kicsi a parkoló, piros\r\n      }\r\n    }\r\n  \r\n    // Szabad parkoló, és a méret megfelelő\r\n    if (spot.status === 'free' && \r\n        ((carSize === 'small' && (spot.size === 'small' || spot.size === 'medium' || spot.size === 'large')) || \r\n        (carSize === 'medium' && (spot.size === 'medium' || spot.size === 'large')) ||\r\n        (carSize === 'large' && spot.size === 'large'))) {\r\n      return { color: 'gray', image: '/icons/free.png' }; // Szabad parkoló és megfelelő méretű, szürke\r\n    }\r\n  \r\n    return { color: 'gray', image: '/icons/default.png' }; // Alapértelmezett eset\r\n  };\r\n\r\n  const handleSpotClick = (spot) => {\r\n    if (spot.status === 'free') {\r\n      setSelectedSpot(spot);\r\n      setShowModal(true);\r\n    }\r\n  };\r\n\r\n  const handleModalClose = () => {\r\n    setShowModal(false);\r\n    setSelectedSpot(null);\r\n  };\r\n\r\n  const handleConfirmSelection = () => {\r\n    if (selectedSpot) {\r\n      console.log('Spot selected:', selectedSpot);\r\n    }\r\n    setShowModal(false);\r\n  };\r\n\r\n  const spots = parkingData[currentLevel] || [];\r\n\r\n  return {\r\n    currentLevel,\r\n    spots,\r\n    handleLevelChange,\r\n    getSpotColor,\r\n    handleSpotClick,\r\n    showModal,\r\n    handleModalClose,\r\n    handleConfirmSelection,\r\n  };\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}